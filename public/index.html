<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Mural</title>
    <link href="style.css" type="text/css" rel="stylesheet">
</head>

<body>
    <h1>Mural</h1>
    <form method="POST" action="/images">
        <label for="what-is-the-image-src">What is the image src?</label>
        <input type="text" id="what-is-the-image-src" name="src" />
        <input type="submit" />
    </form>
    <div id="squares-div">
    </div>

    <script>
        fetch('/images')
            .then(response => response.json())
            .then(images => {
                buildGrid(images.length);

                images.forEach((image, index) => {
                    let img = document.createElement('img');
                    img.setAttribute('src', image.src);
                    img.setAttribute('alt', 'user-selected image');
                    let imageSquare = document.getElementById('square' + index);
                    imageSquare.appendChild(img);
                });
            });

        function buildGrid(numberOfSquares) {
            for (let i = 0; i < numberOfSquares; i++) {
                let square = document.createElement('div');
                square.classList.add('square');
                square.id = 'square' + i;
                document.getElementById('squares-div').appendChild(square);
            }
        }    
        
    </script>




</body>

</html>